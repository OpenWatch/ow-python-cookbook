# Generated by Chef for <%= node[:fqdn] %>
import os

# Local settings go here!

DEBUG = False

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql_psycopg2', # Add 'postgresql_psycopg2', 'mysql', 'sqlite3' or 'oracle'.
        'NAME': '<%= @db_name %>',                      # Or path to database file if using sqlite3.
        'USER': '<%= @db_user %>',                      # Not used with sqlite3.
        'PASSWORD': '<%= @db_password %>',                  # Not used with sqlite3.
        'HOST': '<%= @db_host %>',                      # Set to empty string for localhost. Not used with sqlite3.
        'PORT': <%= @db_port %>,                      # Set to empty string for default. Not used with sqlite3.
    }
}

# Absolute filesystem path to the directory that will hold user-uploaded files.
# Example: "/home/media/media.lawrence.com/media/"
MEDIA_ROOT = os.path.join(os.path.dirname(__file__), '../../media')

# URL prefix for static files.
# Example: "http://media.lawrence.com/static/"
STATIC_URL = '/static/'

# Additional locations of static files
STATICFILES_DIRS = (
    # Put strings here, like "/home/html/static" or "C:/www/django/static".
    # Always use forward slashes, even on Windows.
    # Don't forget to use absolute paths, not relative paths.
    os.path.join(os.path.dirname(__file__), '../static'),
    os.path.join(os.path.dirname(__file__), '../../media'),
)

API_SECRET_USER = '<%= @node_api_user %>'
API_SECRET_PASSWORD = '<%= @node_api_secret %>'

ETHERPAD_URL = '<%= @etherpad_url %>'
ETHERPAD_API_KEY = '<%= @etherpad_api_key %>'

COINBASE_API_KEY = ''

STRIPE_SECRET = "<%= @stripe_secret %>"
STRIPE_PUBLISHABLE = "<%= @stripe_publishable %>"


# Amazon S3
#DEFAULT_FILE_STORAGE = 's3_folder_storage.s3.DefaultStorage'
STATICFILES_STORAGE = 's3_folder_storage.s3.StaticStorage'

# For django-s3-folder-storage
MEDIA_S3_PATH = "media/uploads"
AUDIO_RECORDING_S3_PATH = "media/recordings"
STATIC_S3_PATH = "static"


AWS_ACCESS_KEY_ID = '<%= @aws_access_key_id %>'
AWS_SECRET_ACCESS_KEY = '<%= @aws_secret_access_key %>'
AWS_STORAGE_BUCKET_NAME = '<%= @aws_bucket_name %>'
AWS_BUCKET_NAME = AWS_STORAGE_BUCKET_NAME  # For ajaxuploader
AWS_CALLING_FORMAT = ''


#MailGun
EMAIL_BACKEND = 'django_mailgun.MailgunBackend'
MAILGUN_SERVER_NAME = "openwatch.mailgun.org"
MAILGUN_API_KEY = '<%= @mailgun_api_key %>'
MAILGUN_ACCESS_KEY = MAILGUN_API_KEY

AWS_HEADERS = {
    'Cache-Control': 'max-age=86400',
}

GEO_IP_ROOT = os.path.join(os.path.dirname(__file__), '../../media/')
STATIC_ROOT = '/static/'
STATIC_URL = 'https://s3.amazonaws.com/%s/static/' % AWS_STORAGE_BUCKET_NAME
MEDIA_URL = 'https://s3.amazonaws.com/%s/media/' % AWS_STORAGE_BUCKET_NAME
MEDIA_UPLOAD_ENDPOINT = 'uploads/'  # relative to MEDIA_ROOT For local and to DEFAULT_S3_PATH for S3
AUDIO_UPLOAD_ENDPOINT = 'recordings/'  # ditto
# Future:
#STATIC_URL = 'http://static.openwatch.net/'

# Additional locations of static files
STATICFILES_DIRS = (
    # Put strings here, like "/home/html/static" or "C:/www/django/static".
    # Always use forward slashes, even on Windows.
    # Don't forget to use absolute paths, not relative paths.
    os.path.join(os.path.dirname(__file__), '../static'),
    #os.path.join(os.path.dirname(__file__), '../../media'),
)

